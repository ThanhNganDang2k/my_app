{"ast":null,"code":"import axios from \"axios\";\nconst axiosClient = axios.create({\n  baseURL: 'https://subscription-api-ddg3.onrender.com',\n  headers: {\n    'Content-Type': 'application/json'\n    // Authorization:\n    // \"Bearer \" + JSON.parse(localStorage.getItem(\"userInfo\"))?.data?.accessToken ?? '', \n  }\n});\n// Add a request interceptor\naxiosClient.interceptors.request.use(function (config) {\n  var _JSON$parse, _JSON$parse$data;\n  // Do something before request is sent\n  if ((_JSON$parse = JSON.parse(localStorage.getItem(\"userInfo\"))) !== null && _JSON$parse !== void 0 && (_JSON$parse$data = _JSON$parse.data) !== null && _JSON$parse$data !== void 0 && _JSON$parse$data.accessToken) {\n    var _JSON$parse2, _JSON$parse2$data;\n    config.headers.Authorization = \"Bearer \" + ((_JSON$parse2 = JSON.parse(localStorage.getItem(\"userInfo\"))) === null || _JSON$parse2 === void 0 ? void 0 : (_JSON$parse2$data = _JSON$parse2.data) === null || _JSON$parse2$data === void 0 ? void 0 : _JSON$parse2$data.accessToken);\n  }\n  return config;\n}, function (error) {\n  // Do something with request error\n  return Promise.reject(error);\n});\n\n// Add a response interceptor\naxiosClient.interceptors.response.use(function (response) {\n  // Any status code that lie within the range of 2xx cause this function to trigger\n  // Do something with response data\n  return response.data;\n}, function (error) {\n  // Any status codes that falls outside the range of 2xx cause this function to trigger\n  // Do something with response error\n  if (error.response.status === 401) {\n    localStorage.removeItem(\"userInfo\");\n    // window.location.href = '/';\n  }\n\n  return Promise.reject(error);\n});\nexport default axiosClient;","map":{"version":3,"names":["axios","axiosClient","create","baseURL","headers","interceptors","request","use","config","_JSON$parse","_JSON$parse$data","JSON","parse","localStorage","getItem","data","accessToken","_JSON$parse2","_JSON$parse2$data","Authorization","error","Promise","reject","response","status","removeItem"],"sources":["D:/1_Java_Web/TEST/my-app/src/api/axiosClient.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst axiosClient=axios.create({\r\n    baseURL: 'https://subscription-api-ddg3.onrender.com',\r\n    headers:{\r\n        'Content-Type': 'application/json',\r\n        // Authorization:\r\n        // \"Bearer \" + JSON.parse(localStorage.getItem(\"userInfo\"))?.data?.accessToken ?? '', \r\n    },\r\n});\r\n// Add a request interceptor\r\naxiosClient.interceptors.request.use(function (config) {\r\n  // Do something before request is sent\r\n  if (JSON.parse(localStorage.getItem(\"userInfo\"))?.data?.accessToken){\r\n    config.headers.Authorization = \"Bearer \" + JSON.parse(localStorage.getItem(\"userInfo\"))?.data?.accessToken\r\n  }\r\n  return config;\r\n}, function (error) {\r\n  // Do something with request error\r\n  return Promise.reject(error);\r\n});\r\n\r\n// Add a response interceptor\r\naxiosClient.interceptors.response.use(function (response) {\r\n  // Any status code that lie within the range of 2xx cause this function to trigger\r\n  // Do something with response data\r\n  return response.data;\r\n}, \r\nfunction (error) {\r\n  // Any status codes that falls outside the range of 2xx cause this function to trigger\r\n  // Do something with response error\r\n  if (error.response.status === 401){\r\n    localStorage.removeItem(\"userInfo\");\r\n    // window.location.href = '/';\r\n  }\r\n  return Promise.reject(error);\r\n});\r\nexport default axiosClient;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,WAAW,GAACD,KAAK,CAACE,MAAM,CAAC;EAC3BC,OAAO,EAAE,4CAA4C;EACrDC,OAAO,EAAC;IACJ,cAAc,EAAE;IAChB;IACA;EACJ;AACJ,CAAC,CAAC;AACF;AACAH,WAAW,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,UAAUC,MAAM,EAAE;EAAA,IAAAC,WAAA,EAAAC,gBAAA;EACrD;EACA,KAAAD,WAAA,GAAIE,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,cAAAL,WAAA,gBAAAC,gBAAA,GAA5CD,WAAA,CAA8CM,IAAI,cAAAL,gBAAA,eAAlDA,gBAAA,CAAoDM,WAAW,EAAC;IAAA,IAAAC,YAAA,EAAAC,iBAAA;IAClEV,MAAM,CAACJ,OAAO,CAACe,aAAa,GAAG,SAAS,KAAAF,YAAA,GAAGN,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,cAAAG,YAAA,wBAAAC,iBAAA,GAA5CD,YAAA,CAA8CF,IAAI,cAAAG,iBAAA,uBAAlDA,iBAAA,CAAoDF,WAAW;EAC5G;EACA,OAAOR,MAAM;AACf,CAAC,EAAE,UAAUY,KAAK,EAAE;EAClB;EACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CAAC;;AAEF;AACAnB,WAAW,CAACI,YAAY,CAACkB,QAAQ,CAAChB,GAAG,CAAC,UAAUgB,QAAQ,EAAE;EACxD;EACA;EACA,OAAOA,QAAQ,CAACR,IAAI;AACtB,CAAC,EACD,UAAUK,KAAK,EAAE;EACf;EACA;EACA,IAAIA,KAAK,CAACG,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAC;IAChCX,YAAY,CAACY,UAAU,CAAC,UAAU,CAAC;IACnC;EACF;;EACA,OAAOJ,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CAAC;AACF,eAAenB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}