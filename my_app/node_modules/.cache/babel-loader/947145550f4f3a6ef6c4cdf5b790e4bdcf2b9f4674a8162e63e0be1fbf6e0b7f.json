{"ast":null,"code":"import axios from \"axios\";\nconst axiosClient = axios.create({\n  baseURL: 'https://subscription-api-ddg3.onrender.com',\n  headers: {\n    'Content-Type': 'application/json'\n    // Authorization:\n    // \"Bearer \" + JSON.parse(localStorage.getItem(\"userInfo\"))?.data?.accessToken ?? '', \n  }\n});\n// Add a request interceptor\naxiosClient.interceptors.request.use(function (config) {\n  var _JSON$parse;\n  // Do something before request is sent\n  if ((_JSON$parse = JSON.parse(localStorage.getItem(\"userInfo\"))) !== null && _JSON$parse !== void 0 && _JSON$parse.accessToken) {\n    var _JSON$parse2;\n    config.headers.Authorization = \"Bearer \" + ((_JSON$parse2 = JSON.parse(localStorage.getItem(\"userInfo\"))) === null || _JSON$parse2 === void 0 ? void 0 : _JSON$parse2.accessToken);\n  }\n  return config;\n}, function (error) {\n  // Do something with request error\n  return Promise.reject(error);\n});\n\n// Add a request interceptor\naxiosClient.interceptors.request.use(function (config) {\n  var _JSON$parse3;\n  // Do something before request is sent\n  if ((_JSON$parse3 = JSON.parse(localStorage.getItem(\"userEmail\"))) !== null && _JSON$parse3 !== void 0 && _JSON$parse3.email) {\n    var _JSON$parse4;\n    config.headers.Authorization = \"Bearer \" + ((_JSON$parse4 = JSON.parse(localStorage.getItem(\"userInfo\"))) === null || _JSON$parse4 === void 0 ? void 0 : _JSON$parse4.accessToken);\n  }\n  return config;\n}, function (error) {\n  // Do something with request error\n  return Promise.reject(error);\n});\n\n// Add a response interceptor\naxiosClient.interceptors.response.use(function (response) {\n  // Any status code that lie within the range of 2xx cause this function to trigger\n  // Do something with response data\n  return response.data;\n}, function (error) {\n  // Any status codes that falls outside the range of 2xx cause this function to trigger\n  // Do something with response error\n  if (error.response.status === 401) {\n    localStorage.removeItem(\"userInfo\");\n    // window.location.href = '/';\n  }\n  // if (error.response.status === 409){\n  //   console.log(\"user not exits\")\n\n  // }\n  return Promise.reject(error);\n});\nexport default axiosClient;","map":{"version":3,"names":["axios","axiosClient","create","baseURL","headers","interceptors","request","use","config","_JSON$parse","JSON","parse","localStorage","getItem","accessToken","_JSON$parse2","Authorization","error","Promise","reject","_JSON$parse3","email","_JSON$parse4","response","data","status","removeItem"],"sources":["D:/1_Java_Web/TEST/my-app/src/api/axiosClient.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst axiosClient=axios.create({\r\n    baseURL: 'https://subscription-api-ddg3.onrender.com',\r\n    headers:{\r\n        'Content-Type': 'application/json',\r\n        // Authorization:\r\n        // \"Bearer \" + JSON.parse(localStorage.getItem(\"userInfo\"))?.data?.accessToken ?? '', \r\n    },\r\n});\r\n// Add a request interceptor\r\naxiosClient.interceptors.request.use(function (config) {\r\n  // Do something before request is sent\r\n  if (JSON.parse(localStorage.getItem(\"userInfo\"))?.accessToken){\r\n    config.headers.Authorization = \"Bearer \" + JSON.parse(localStorage.getItem(\"userInfo\"))?.accessToken\r\n  }\r\n  return config;\r\n}, function (error) {\r\n  // Do something with request error\r\n  return Promise.reject(error);\r\n});\r\n\r\n\r\n\r\n// Add a request interceptor\r\naxiosClient.interceptors.request.use(function (config) {\r\n  // Do something before request is sent\r\n  if (JSON.parse(localStorage.getItem(\"userEmail\"))?.email){\r\n    config.headers.Authorization = \"Bearer \" + JSON.parse(localStorage.getItem(\"userInfo\"))?.accessToken\r\n  }\r\n  return config;\r\n}, function (error) {\r\n  // Do something with request error\r\n  return Promise.reject(error);\r\n});\r\n\r\n\r\n// Add a response interceptor\r\naxiosClient.interceptors.response.use(function (response) {\r\n  // Any status code that lie within the range of 2xx cause this function to trigger\r\n  // Do something with response data\r\n  return response.data;\r\n}, \r\nfunction (error) {\r\n  // Any status codes that falls outside the range of 2xx cause this function to trigger\r\n  // Do something with response error\r\n  if (error.response.status === 401){\r\n    localStorage.removeItem(\"userInfo\");\r\n    // window.location.href = '/';\r\n  }\r\n  // if (error.response.status === 409){\r\n  //   console.log(\"user not exits\")\r\n   \r\n  // }\r\n  return Promise.reject(error);\r\n});\r\nexport default axiosClient;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,WAAW,GAACD,KAAK,CAACE,MAAM,CAAC;EAC3BC,OAAO,EAAE,4CAA4C;EACrDC,OAAO,EAAC;IACJ,cAAc,EAAE;IAChB;IACA;EACJ;AACJ,CAAC,CAAC;AACF;AACAH,WAAW,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,UAAUC,MAAM,EAAE;EAAA,IAAAC,WAAA;EACrD;EACA,KAAAA,WAAA,GAAIC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,cAAAJ,WAAA,eAA5CA,WAAA,CAA8CK,WAAW,EAAC;IAAA,IAAAC,YAAA;IAC5DP,MAAM,CAACJ,OAAO,CAACY,aAAa,GAAG,SAAS,KAAAD,YAAA,GAAGL,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,cAAAE,YAAA,uBAA5CA,YAAA,CAA8CD,WAAW;EACtG;EACA,OAAON,MAAM;AACf,CAAC,EAAE,UAAUS,KAAK,EAAE;EAClB;EACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CAAC;;AAIF;AACAhB,WAAW,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,UAAUC,MAAM,EAAE;EAAA,IAAAY,YAAA;EACrD;EACA,KAAAA,YAAA,GAAIV,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,cAAAO,YAAA,eAA7CA,YAAA,CAA+CC,KAAK,EAAC;IAAA,IAAAC,YAAA;IACvDd,MAAM,CAACJ,OAAO,CAACY,aAAa,GAAG,SAAS,KAAAM,YAAA,GAAGZ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,cAAAS,YAAA,uBAA5CA,YAAA,CAA8CR,WAAW;EACtG;EACA,OAAON,MAAM;AACf,CAAC,EAAE,UAAUS,KAAK,EAAE;EAClB;EACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CAAC;;AAGF;AACAhB,WAAW,CAACI,YAAY,CAACkB,QAAQ,CAAChB,GAAG,CAAC,UAAUgB,QAAQ,EAAE;EACxD;EACA;EACA,OAAOA,QAAQ,CAACC,IAAI;AACtB,CAAC,EACD,UAAUP,KAAK,EAAE;EACf;EACA;EACA,IAAIA,KAAK,CAACM,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAC;IAChCb,YAAY,CAACc,UAAU,CAAC,UAAU,CAAC;IACnC;EACF;EACA;EACA;;EAEA;EACA,OAAOR,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CAAC;AACF,eAAehB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}